.MODEL SMALL
.STACK 100H
.DATA
CURX DW ?
CURY DW ?
MAXX DW ?
MAXY DW ?
LASX DW ?
LASY DW ?
.CODE
MAIN PROC FAR
MOV AX,@data
MOV DS,AX
MOV ES,AX

MOV AH,0FH
INT 10H
PUSH AX

CALL SETMODE
CALL DISPBOX
CALL KEYRES

POP AX
MOV AH,00H
INT 10H
MOV AX,4C00H
INT 21H
MAIN ENDP

DISPBOX PROC NEAR

MOV CURX,30D
MOV CURY,30D

MOV MAXX,100D
MOV MAXY,100D

YYY1:
MOV AX,CURX
MOV LASX,AX
MOV AX,CURY
MOV LASY,AX
CALL SCRN

XXX1:
MOV AH,0CH
MOV AL,03H
MOV BH,00H
MOV CX,CURX
MOV DX,CURY
INT 10H

DEC CURY
MOV AX,MAXY
CMP CURY,AX
JNE XXX1

CALL DELLL
INC LASX
DEC LASY
DEC MAXY
MOV AX,LASX
MOV CURX,AX
MOV AX,LASY
MOV CURY,AX

CMP CURX,100D
JNE YYY1
RET
DISPBOX ENDP

DELLL PROC NEAR
MOV AX,20000D
XXX3:
DEC AX
JNZ XXX3
RET
DELLL ENDP

SETMODE PROC NEAR
MOV AH,00H
MOV AL,13H
INT 10H
MOV AH,0BH
MOV BH,00
MOV BL,07H
INT 10H
RET
SETMODE ENDP

KEYRES PROC NEAR
MOV AH,10H
INT 16H
RET
KEYRES ENDP

SCRN PROC NEAR
MOV AH,06H
MOV AL,00H
MOV BH,07
MOV CH,00
MOV CL,00
MOV DH,24
MOV DL,79
INT 10H
RET
SCRN ENDP

END MAIN